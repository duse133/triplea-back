Trip:lenner
=============
여행 플래너 사이트 Trip:lenner의 백엔드 프로젝트입니다.

Version
=============
1. Java 17   
2. MySQL 8.0.36   
3. mysql-connector-java 8.0.33   
4. InteliJ 2023.3.4   

How to use
=============
* DB : 데이터 베이스 zip 파일
  * MySQL Workbench를 사용하여 해당 파일 import 가능
  * 먼저 project_db 스키마 생성
* .jar : 실행파일
  * 해당 project_db 스키마가 있어야 함, 따라서 먼저 DB 먼저 import
  * jar 파일은 위에 자바와 MySQL이 깔려 있는 경우에 터미널로 실행(MySQL 유저이름 root, 비밀번호 : 1234)
  * 실행후 http://localhost:8080/swagger-ui/index.html로 이동하여 REST API 통신 테스트 확인 가능
* BackEnd : 프로젝트 폴더
  * InteliJ로 해당 파일 열기
  * InteliJ로 해당 프로젝트 파일 실행
  * 실행후 http://localhost:8080/swagger-ui/index.html로 이동하여 REST API 통신 테스트 확인 가능
  * 해당 프로젝트 폴더에 src/main/resources에 application.yml 파일 내용 MySQL username과 password 수정 가능

Version Up Contents 0.1.0 -> 0.2.0
=============
* REST API 수정 : POST 방식에서 GET 방식으로 변경(데이터 수정이 아닌 데이터를 가져오기만 하기 때문)
* BackEnd-0.2.0.jar : 서비스단에 여행지 루트 짜주는 로직 수정

Version Up Contents 0.2.0 -> 0.2.1
=============
* DB : 부족한 데이터 추가(대구, 대전, 광주, 인천, 제주, 울산, 세종)
* DB 오타 수정으로 인한 프로젝트 파일의 Entity, Service 파일의 오타 수정
* REST API 수정 : GET 방식으로 하나씩 파라미터를 받는 방식이 아닌 객체를 받도록 수정

Version Up Contents 0.2.1 -> 0.2.2
=============
* REST API 오류 메세지 추가 : E01(파라미터 누락), E02(데이터 부족)
* REST API 성공 메세지 및 코드 추가 예정 : 아직 추가 안되서 성공되면 null값으로 들어옴

Version Up Contents 0.2.2 -> 0.3.0
=============
* UserInput의 데이터 숙소정보(accommodationInfo)객체 추가 : accommodationInfo(위도, 경도, 숙소이름)객체로 구성
* URL "/api/tourlist" 추가 : Area 정보에 따라 DB에서 해당 지역 데이터를 모두 넘겨줌(이름, 위도, 경도, 설명) 
* REST API 오류 메세지 추가 : E03(해당하는 지역 정보가 없습니다.)
* REST API 성공 메세지 및 코드 추가: 성공시 코드 "S01", 메세지 "성공"으로 넘겨줌
* K-Means 군집 알고리즘 추가 : 아직 DB의 가중치값이 미구현이 되었으므로 비활성화 및 일부 미구현(0.4.0 버전때 구현 예정)
* 군집 내 최단거리 알고리즘을 통해 최적의 루트 만들기 : 아직 미구현(0.4.0 버전때에 구현 예정)

Version Up Contents 0.3.0 -> 0.4.0
=============
* 사용자 입력란 강도(Strength) 삭제 예정?
* 루트 생성 갯수 수정 : 루트 3개 형성 -> 루트 1개 형성
* 사용자 입력란 추가 : 숙소정보(accommodationName),숙소위도(accommodate_latitude),숙소경도(accommodate_longitude)
* K-Means 군집 알고리즘 추가 : DB의 중요도가 높은 여행지를 기준으로 군집 형성
* 군집 내 최단거리 알고리즘을 통해 최적의 루트 형성 : 출발점(숙소)에서 가장 가까운 군집의 기준점 선택, 그 군집의 기준점을 출발점으로 최단거리 루트 생성
* 여행 일 수에 맞게 여행루트 분배 : 총거리를 여행 일수로 나눠 나눈 거리만큼 해당 루트를 쪼개어 여행 일수에 맞게 분배, 만약 너무 많이 몰려서 일수가 부족하다면 근처 군집의 루트를 가져와서 다시 분배(여기서 너무 많으면 나머지 루트 버림)

Version Up Contents 0.4.0 -> 0.5.0
=============
* DB 업데이트 : 부족한 관광지 데이터 추가, 불필요한 컬럼 제거, 중요도 설정
* DB 업데이트에 따른 엔티티값 모두 수정
* 관광지 이미지 가져오기 : 한국관광공사_관광사진 정보 API 사용하여 관광지 이미지 링크를 가져와 클라이언트에 넘김, API 오류(E03), 이미지 못 찾을 시(E10)
* 여행루트 생성시 : 데이터가 많기에 한쪽에 쏠리는 현상 발생 -> 일 수를 2일로 잡을 시에 하루에 50곳을 돌아야하는 루트가 만들어지는 문제점(강도로 해결 할 예정)

Version Up Contents 0.5.0 -> 0.6.0
=============
* 관광지 이미지 가져오기 : 한국관광공사_관광사진 정보 API 사용안함(사진이 없는게 많음) -> 한국관광공사 포토코리아에서 크롤링해서 이미지 소스 받음, 이미지 못찾을 시(E10)
* 여행루트 생성시 : 데이터가 많기에 한쪽에 쏠리는 현상 발생 -> 일 수를 2일로 잡을 시에 하루에 50곳을 돌아야하는 루트가 만들어지는 문제점, 강도로 해결함
* 강도 : 약함이랑 중간이랑 차이점이 없음 하나로 합칠 예정, 강함은 무조건 일단 일당 루트 7개 이상, 약함은 일당 루트 4개 이하

Version Up Contents 0.6.0 -> 0.6.1
=============
* 여행루트에 설명 추가
* 강도 : 약함이랑 중간이랑 차이점이 없음 하나로 합칠 예정 보통으로, 강함은 무조건 일단 일당 루트 7개 이상, 보통은 일당 루트 음

Version Up Contents 0.6.0 -> 0.7.0
=============
* 게시판 DB 생성 : id, title, content, password
* 프로젝트 파일 게시판 관련 파일 생성 : Entity, Repository
* 게시판 서비스 로직 구현

Version Up Contents 0.7.0 -> 0.8.0
=============
* 게시판 통신 API 예외처리 추가
* 게시판 통신 문제점 해결
* 여행 루트 알고리즘 수정 : 중복되는 부분 제거
* 서버 배포용 jar 수정 : 서버 전용 DB 설정 및 서버 전용 클라이언트 proxy 허용 설정

Version Up Contents 0.8.0 -> 0.9.0
=============
* 여행 루트 알고리즘 변경 : 강도가 강함일때 중요도가 높은 여행지를 무조건 포함하고 나머지 부족한 여행지는 중요도가 높은 근처의 여행지 선택하여 루트 형성
* 문제점 : 거리를 기준으로 일 수에 맞춰 여행지를 분배하다 보니 마지막날에 몰리는 문제점
* 해결방안 : 마지막날에 10개이상으로 몰리게 된다면 중요도가 높은 여행지를 제외하고 나머지 여행지를 제거(아직 추가 안함)

Version Up Contents 0.9.0 -> 1.0.0
=============
* 문제점 해결 : 마지막날에 몰리게 되는 문제 해결(적절히 일 수 마다 분배해서 너무 높으면 다음 일 수로 넘어가게)
* 문제점 : 강도가 강할 때 마지막날이 없는 문제점
* 문제점 해결2 : 마지막날이 없으면 생성된 마지막 루트의 여행지 근처의 여행지 7곳 선정하여 루트 생성
* 게시판 오류 해결 : CRUD 제대로 동작 되게 WebConfig 설정
* 이미지 불러오기 추가 : 한국 관광공사 사진갤러리에 너무 없는게 많아서 네이버 검색 API를 이용하여 한번 더 검색을 하여 관광지 이미지를 가져옴

Description (src/java/capstone/triplea/backend)
=============
* config - WebConfig.java
  * 크로스 도메인 이슈 해결 코드로 프론트엔드 http://localhost:3000 에 모든 요청을 허용
* controller - MainController.java
  * 메인 컨트롤러로 프론트엔드(클라이언트)의 모든 요청을 먼저 받아서 해당 URL로 어떤 서비스를 사용할건지 매핑
* dto
  * TravelPlanerDTO.java - 관광지 루트 정보를 가지고 루트를 짜서 해당 관광지 관광지명,위도,경도 정보를 순서대로 담는 객체
  * TravelPlanerListDTO.java - 짜여진 루트 정보를 3개의 배열로 정보를 가지는 객체
  * UserInputDTO.java - 사용자가 입력한 정보 3개(지역, 일수, 강도)정보를 담는 객체
* entity - 데이터베이스에서 17개의 지역 정보 테이블과 엔티티간 연관관계 정의
* repository - 엔티티로 DB에 접근하여 17개의 지역 정보 테이블에 CRUD를 사용하기 위한 인터페이스로 JPA 상속
* service - MakePlanerService.java
  * 사용자가 입력한 3가지 정보(지역, 일수, 숙소정보)를 가지고 중요한 곳을 기점으로 근처에 루트를 만들어서 추
  
